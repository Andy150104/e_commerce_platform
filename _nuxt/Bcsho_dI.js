import{e as z,dn as o,l as h,dp as C,D as p,dq as k,g as m,af as I,L as S,dr as j,o as x,c as O,a as T,P as V,n as q}from"./DFVm4NPh.js";import{u as $}from"./elAu3zWO.js";import{_ as N}from"./DlAUqK2U.js";const A=z({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>o.ui.textarea.default.size,validator(e){return Object.keys(o.ui.textarea.size).includes(e)}},color:{type:String,default:()=>o.ui.textarea.default.color,validator(e){return[...o.ui.colors,...Object.keys(o.ui.textarea.color)].includes(e)}},variant:{type:String,default:()=>o.ui.textarea.default.variant,validator(e){return[...Object.keys(o.ui.textarea.variant),...Object.values(o.ui.textarea.color).flatMap(t=>Object.keys(t))].includes(e)}},ui:{type:Object,default:()=>o.ui.textarea}},emits:["update:modelValue","blur"],setup(e,{emit:t}){const r=h(null),d=C(),l=p(()=>k({},e.ui,d.ui.textarea)),{emitFormBlur:f}=$(),u=()=>{var a;e.autofocus&&((a=r.value)==null||a.focus())},i=()=>{if(e.autoresize){if(!r.value)return;r.value.rows=e.rows;const a=window.getComputedStyle(r.value),s=parseInt(a.paddingTop),n=parseInt(a.paddingBottom),B=s+n,b=parseInt(a.lineHeight),{scrollHeight:w}=r.value,c=(w-B)/b;c>e.rows&&(r.value.rows=c)}},v=a=>{i(),t("update:modelValue",a.target.value)},g=a=>{f(),t("blur",a)};m(()=>{setTimeout(()=>{u()},100)}),I(()=>e.modelValue,()=>{S(i)}),m(()=>{setTimeout(()=>{u(),i()},100)});const y=p(()=>{var s,n;const a=((n=(s=l.value.color)==null?void 0:s[e.color])==null?void 0:n[e.variant])||l.value.variant[e.variant];return j(l.value.base,l.value.rounded,l.value.placeholder,l.value.size[e.size],e.padded?l.value.padding[e.size]:"p-0",a==null?void 0:a.replaceAll("{color}",e.color),!e.resize&&"resize-none")});return{ui:l,textarea:r,textareaClass:y,onInput:v,onBlur:g}}}),F=["id","value","name","rows","required","disabled","placeholder"];function H(e,t,r,d,l,f){return x(),O("div",{class:q(e.ui.wrapper)},[T("textarea",V({id:e.name,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:["form-textarea",e.textareaClass]},e.$attrs,{onInput:t[0]||(t[0]=(...u)=>e.onInput&&e.onInput(...u)),onBlur:t[1]||(t[1]=(...u)=>e.onBlur&&e.onBlur(...u))}),null,16,F)],2)}const R=N(A,[["render",H]]);export{R as default};
