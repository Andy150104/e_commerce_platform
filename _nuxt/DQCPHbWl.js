import{e as $,x as E,J as j,l as n,s as U,f as G,m as z,af as D,g as H,K as Y,o as p,h as B,w as i,L as I,a as e,b as a,d as X,i as s,j as L,c as q,n as J,A as K}from"./DFVm4NPh.js";import{_ as Q,C as Z}from"./DGXY1j6i.js";import ee from"./Ck2GeduC.js";import{_ as re}from"./CuyQV2BK.js";import{a as te,u as oe}from"./BTS8cxVB.js";import{_ as ae}from"./C2uPH1VK.js";import se from"./Rv5UuXQF.js";import{i as c}from"./B1VAvD7b.js";import{_ as le,a as ne,b as ie}from"./CUPvsEwL.js";import{u as de}from"./LYaAcBEI.js";import{_ as ce}from"./BBMHhU8h.js";import{u as ue}from"./CMS-NkLX.js";import{X as b}from"./BDEeDIwr.js";import{u as me}from"./7cbLggmU.js";import{_ as ge}from"./DTtOshDf.js";import"./Cgecvcl9.js";import"./DlAUqK2U.js";import"./QbBb9rFs.js";import"./Bj-PnIja.js";import"./BpXJ3t4k.js";import"./B05HPIib.js";import"./D5y8FroI.js";import"./awSMyq0J.js";import"./B_7wH41M.js";import"./Sc8BXWmR.js";import"./BuMp5kCj.js";/* empty css        */import"./5Q-RKaCz.js";import"./DgmwlLno.js";import"./Dw6ZVRj5.js";import"./DfFDNbgx.js";import"./Bzy3NznM.js";const pe={class:"mb-16 mx-auto max-w-[1600px] 3xl:max-w-[2000px]"},be={class:"flex justify-end gap-2 mb-4"},fe={class:"bg-white p-6 space-y-6"},ye={class:"text-center mt-8"},Ke=$({__name:"index",setup(he){const o=te(),f=me(),d=oe(),y=ue(),P=de();E();const R=j(),h=n(),x=n(),k=n(),A=n(!0),{fieldValues:v,fieldErrors:w}=U(o),N=G({initialValues:v.value});o.SetFields(N);const O=z(),u={sortBy:b({id:"sortBy",name:"sortBy",rules:"",visible:!0,option:""}),parentCategory:b({id:"parentCategory",name:"Parent Category",rules:"",visible:!0,option:""}),childCategory:b({id:"childCategory",name:"Child Category",rules:"",visible:!0,option:""})},m=n(5),g=n(null),l=async()=>{await o.GetProductList(d.searchService,0,0,o.fieldValues.sortBy,m.value,d.searchParams),await I()},T=()=>{window.location.href="http://localhost:3000/Login"},F=async t=>{await f.RemoveItemOutWishlist(t),await l()},W=async t=>{await f.AddToWishList(t),await l()},M=async t=>{if(R.isAuthorization){await P.AddOneProductToCart(t),await y.GetAllCart(),h.value.openSideBar(!0);return}x.value.closePopup(!0)},V=async()=>{d.searchParams=k.value.onGetSearch(),O.push({path:"/Service/Buying",query:{search:d.searchParams}}),await l(),c()};D(()=>o.fieldValues.sortBy,async(t,r)=>{t!==r&&(o.produtList=[],o.fields.setFieldValue("sortBy",t),await l(),c())});const C=async()=>{m.value+=5,await l(),c()},_=()=>{if(!g.value)return;const{scrollTop:t,clientHeight:r,scrollHeight:S}=g.value;console.log({scrollTop:t,clientHeight:r,scrollHeight:S}),t+r>=S-10&&C()};return H(async()=>{await l(),c(),A.value=!1}),Y(()=>{o.ResetStore()}),(t,r)=>(p(),B(ae,{onOnScrollLoad:_},{body:i(()=>[e("div",{ref_key:"scrollContainer",ref:g,onScrollPassive:_},[a(le,{ref_key:"isShowPopupRef",ref:x,"button-cancel-name":"Cancel","button-o-k-name":"Yes, Move to Login!!!",message:"You must to login to countinue to buy",onOnClick:T},null,512),a(se,null,{search:i(()=>[a(ne,{ref_key:"searchOneFieldRef",ref:k,onOnClickSearch:V},null,512)]),_:1}),e("div",pe,[r[5]||(r[5]=e("h2",{class:"text-2xl font-bold text-center text-gray-900 mb-8 dark:text-white"},"Featured Products",-1)),e("div",be,[a(re,null,{button_ui:i(()=>r[0]||(r[0]=[e("button",{class:"flex items-center gap-2 text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-600",type:"button","data-drawer-target":"drawer-navigation","data-drawer-show":"drawer-navigation","aria-controls":"drawer-navigation"},[e("svg",{className:"w-4 h-4 text-gray-700 dark:text-gray-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5h14M5 10h10m-7 5h4"})]),X(" Filters "),e("svg",{className:"w-4 h-4 text-gray-700 dark:text-gray-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 8l4 4 4-4"})])],-1)])),body:i(()=>[e("div",null,[e("div",fe,[e("div",null,[a(ge,{"xml-column-parent-category":u.parentCategory,"maxlength-parent-category":50,"disabled-parent-category":!1,"err-msg-parent-category":s(w).parentCategory,"placeholder-parent-category":"Parent Category","xml-column-child-category":u.childCategory,"maxlength-child-category":50,"disabled-child-category":!1,"err-msg-child-category":s(w).childCategory,"placeholder-child-category":"Child Category"},null,8,["xml-column-parent-category","err-msg-parent-category","xml-column-child-category","err-msg-child-category"])]),r[1]||(r[1]=e("div",{class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},[e("div",null,[e("label",{class:"block text-sm font-medium mb-1"},"Manufacture Year"),e("div",{class:"flex items-center space-x-2"},[e("input",{type:"number",placeholder:"Start year",class:"w-1/2 rounded-md border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 text-sm p-2"}),e("input",{type:"number",placeholder:"End year",class:"w-1/2 rounded-md border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 text-sm p-2"})])]),e("div",null,[e("label",{class:"block text-sm font-medium mb-1"},"Price Range"),e("div",{class:"flex items-center space-x-2"},[e("input",{type:"number",placeholder:"From",class:"w-1/2 rounded-md border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 text-sm p-2"}),e("input",{type:"number",placeholder:"To",class:"w-1/2 rounded-md border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 text-sm p-2"})])])],-1)),r[2]||(r[2]=e("div",null,[e("label",{class:"block text-sm font-medium mb-2"},"Condition"),e("div",{class:"flex items-center space-x-4"},[e("label",{class:"flex items-center space-x-1 text-sm cursor-pointer"},[e("input",{type:"radio",name:"condition",value:"All",class:"text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400"}),e("span",null,"All")]),e("label",{class:"flex items-center space-x-1 text-sm cursor-pointer"},[e("input",{type:"radio",name:"condition",value:"New",class:"text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400"}),e("span",null,"New")]),e("label",{class:"flex items-center space-x-1 text-sm cursor-pointer"},[e("input",{type:"radio",name:"condition",value:"Used",class:"text-blue-500 focus:ring-blue-500 dark:focus:ring-blue-400"}),e("span",null,"Used")])])],-1)),r[3]||(r[3]=e("div",null,[e("label",{class:"block text-sm font-medium mb-2"},"Rating")],-1)),r[4]||(r[4]=e("div",{class:"flex items-center justify-end space-x-3"},[e("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-sm"}," Apply filters "),e("button",{class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 text-sm"}," Clear all ")],-1))])])]),_:1}),a(ie,{"xml-column":u.sortBy,model:s(v).sortBy,disabled:!1,"master-name":"SortBy"},null,8,["xml-column","model"])]),a(ee,null,{body:i(()=>[a(Q,{ref_key:"cardRef",ref:h,"is-show-button2":!0,"product-model":s(o).produtList,"label-name":"Add to cart",onOnBuy:M,onOnAddWishlist:W,onOnRemoveWishlist:F,"is-have-side-bar":!0,"is-show-wish-list":!0},{body:i(()=>[a(ce,{"cart-model":s(y).cartList},null,8,["cart-model"])]),_:1},8,["product-model"]),s(o).isLoadingSkeletonCard?(p(),B(Z,{key:0})):L("",!0)]),_:1}),e("div",ye,[m.value<Number(s(o).totalRecords)?(p(),q("button",{key:0,class:J(s(K).BUTTON_DEFAULT_WHITE),onClick:C},"Explore More",2)):L("",!0)])])],544)]),_:1}))}});export{Ke as default};
