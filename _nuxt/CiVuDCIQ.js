import N from"./DPxmNygB.js";import P from"./DsIA2G5F.js";import j from"./BKCMpDB6.js";import{l as z,D as $,e as q,dn as k,dp as F,dq as V,dr as w,g as E,d8 as I,K as L,o as i,h as v,w as K,a as d,n as c,j as f,P as C,O as M,d as S,t as A,c as g,F as T,r as U,aQ as h,aL as Q,an as R}from"./DFVm4NPh.js";import{b as G}from"./Ds-y25X3.js";import{_ as H}from"./DlAUqK2U.js";import"./PLEq0hNF.js";import"./0qAV6zC5.js";import"./B33bflHF.js";import"./DxTMCm_i.js";import"./CAb_97xm.js";function J(e,r,b){let n=null;const{pause:o,resume:y,timestamp:m}=G({controls:!0}),a=z(null),l=$(()=>a.value?r-(m.value-a.value):0);function t(...O){n=setTimeout(()=>{n=null,a.value=null,e(...O)},l.value)}function u(){n&&(clearTimeout(n),n=null)}function p(){a.value=Date.now(),t()}function B(){u(),o()}function s(){u(),o()}function D(){t(),y(),a.value=(a.value||0)+(Date.now()-m.value)}return p(),{start:p,stop:B,pause:s,resume:D,remaining:l}}const W=q({components:{UIcon:N,UAvatar:P,UButton:j},props:{id:{type:[String,Number],required:!0},title:{type:String,required:!0},description:{type:String,default:null},icon:{type:String,default:()=>k.ui.notification.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>k.ui.notification.default.closeButton},timeout:{type:Number,default:5e3},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>k.ui.notification.default.color,validator(e){return["gray",...k.ui.colors].includes(e)}},ui:{type:Object,default:()=>k.ui.notification}},emits:["close"],setup(e,{emit:r}){const b=F(),n=$(()=>V({},e.ui,b.ui.notification));let o=null;const y=z(e.timeout),m=$(()=>({width:`${y.value/e.timeout*100||0}%`})),a=$(()=>{var s;return w(n.value.progress.base,(s=n.value.progress.background)==null?void 0:s.replaceAll("{color}",e.color))}),l=$(()=>{var s;return w(n.value.icon.base,(s=n.value.icon.color)==null?void 0:s.replaceAll("{color}",e.color))});function t(){o&&o.pause()}function u(){o&&o.resume()}function p(){o&&o.stop(),e.callback&&e.callback(),r("close")}function B(s){o&&o.stop(),s.click&&s.click(),r("close")}return E(()=>{e.timeout&&(o=J(()=>{p()},e.timeout),I(()=>{y.value=o.remaining.value}))}),L(()=>{o&&o.stop()}),{ui:n,progressStyle:m,progressClass:a,iconClass:l,onMouseover:t,onMouseleave:u,onClose:p,onAction:B}}}),X={class:"w-0 flex-1"},Y={key:1,class:"mt-3 flex items-center gap-2"},Z={class:"flex-shrink-0 flex items-center gap-3"},_={key:0,class:"flex items-center gap-2"};function x(e,r,b,n,o,y){const m=N,a=P,l=j;return i(),v(R,C({appear:""},e.ui.transition),{default:K(()=>[d("div",{class:c([e.ui.wrapper,e.ui.background,e.ui.rounded,e.ui.shadow]),onMouseover:r[0]||(r[0]=(...t)=>e.onMouseover&&e.onMouseover(...t)),onMouseleave:r[1]||(r[1]=(...t)=>e.onMouseleave&&e.onMouseleave(...t))},[d("div",{class:c([e.ui.container,e.ui.rounded,e.ui.ring])},[d("div",{class:c(e.ui.padding)},[d("div",{class:c(["flex gap-3",{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}])},[e.icon?(i(),v(m,{key:0,name:e.icon,class:c(e.iconClass)},null,8,["name","class"])):f("",!0),e.avatar?(i(),v(a,C({key:1},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):f("",!0),d("div",X,[d("p",{class:c(e.ui.title)},[M(e.$slots,"title",{title:e.title},()=>[S(A(e.title),1)])],2),e.description||e.$slots.description?(i(),g("p",{key:0,class:c(e.ui.description)},[M(e.$slots,"description",{description:e.description},()=>[S(A(e.description),1)])],2)):f("",!0),(e.description||e.$slots.description)&&e.actions.length?(i(),g("div",Y,[(i(!0),g(T,null,U(e.actions,(t,u)=>(i(),v(l,C({key:u,ref_for:!0},{...e.ui.default.actionButton,...t},{onClick:h(p=>e.onAction(t),["stop"])}),null,16,["onClick"]))),128))])):f("",!0)]),d("div",Z,[!e.description&&!e.$slots.description&&e.actions.length?(i(),g("div",_,[(i(!0),g(T,null,U(e.actions,(t,u)=>(i(),v(l,C({key:u,ref_for:!0},{...e.ui.default.actionButton,...t},{onClick:h(p=>e.onAction(t),["stop"])}),null,16,["onClick"]))),128))])):f("",!0),e.closeButton?(i(),v(l,C({key:1},{...e.ui.default.closeButton,...e.closeButton},{onClick:h(e.onClose,["stop"])}),null,16,["onClick"])):f("",!0)])],2)],2),e.timeout?(i(),g("div",{key:0,class:c(e.progressClass),style:Q(e.progressStyle)},null,6)):f("",!0)],2)],34)]),_:3},16)}const pe=H(W,[["render",x]]);export{pe as default};
