import{e as A,l as x,bX as G,D as h,ct as K,g as B,af as re,d8 as se,F as W,K as te,c5 as M,dn as ue,dp as ie,dq as oe,U as C,o as E,h as q,w as F,b as X,a as U,n as O,c as J,r as Q,O as Y,d as Z,t as _,aL as de}from"./DFVm4NPh.js";import{_ as pe}from"./DlAUqK2U.js";import{o as m,A as N,T as fe,i as ae,N as ee,u as R,a as P}from"./DRmxXga8.js";import{s as ve}from"./BHeKWSUs.js";import{u as ce,f as le}from"./DfbMX9JH.js";import{O as L,T as D,i as be,P as H,N as $}from"./DxdRxZrz.js";import{t as me}from"./CxIZtCgj.js";let he=A({props:{onFocus:{type:Function,required:!0}},setup(e){let p=x(!0);return()=>p.value?G(le,{as:"button",type:"button",features:ce.Focusable,onFocus(v){v.preventDefault();let o,i=50;function s(){var t;if(i--<=0){o&&cancelAnimationFrame(o);return}if((t=e.onFocus)!=null&&t.call(e)){p.value=!1,cancelAnimationFrame(o);return}o=requestAnimationFrame(s)}o=requestAnimationFrame(s)}}):null}});var ge=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ge||{}),ye=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(ye||{});let ne=Symbol("TabsContext");function z(e){let p=M(ne,null);if(p===null){let v=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,z),v}return p}let V=Symbol("TabsSSRContext"),Te=A({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:p,attrs:v,emit:o}){var i;let s=x((i=e.selectedIndex)!=null?i:e.defaultIndex),t=x([]),n=x([]),c=h(()=>e.selectedIndex!==null),w=h(()=>c.value?e.selectedIndex:s.value);function g(l){var u;let f=L(r.tabs.value,m),a=L(r.panels.value,m),b=f.filter(y=>{var T;return!((T=m(y))!=null&&T.hasAttribute("disabled"))});if(l<0||l>f.length-1){let y=R(s.value===null?0:Math.sign(l-s.value),{[-1]:()=>1,0:()=>R(Math.sign(l),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),T=R(y,{0:()=>f.indexOf(b[0]),1:()=>f.indexOf(b[b.length-1])});T!==-1&&(s.value=T),r.tabs.value=f,r.panels.value=a}else{let y=f.slice(0,l),T=[...f.slice(l),...y].find(j=>b.includes(j));if(!T)return;let k=(u=f.indexOf(T))!=null?u:r.selectedIndex.value;k===-1&&(k=r.selectedIndex.value),s.value=k,r.tabs.value=f,r.panels.value=a}}let r={selectedIndex:h(()=>{var l,u;return(u=(l=s.value)!=null?l:e.defaultIndex)!=null?u:null}),orientation:h(()=>e.vertical?"vertical":"horizontal"),activation:h(()=>e.manual?"manual":"auto"),tabs:t,panels:n,setSelectedIndex(l){w.value!==l&&o("change",l),c.value||g(l)},registerTab(l){var u;if(t.value.includes(l))return;let f=t.value[s.value];if(t.value.push(l),t.value=L(t.value,m),!c.value){let a=(u=t.value.indexOf(f))!=null?u:s.value;a!==-1&&(s.value=a)}},unregisterTab(l){let u=t.value.indexOf(l);u!==-1&&t.value.splice(u,1)},registerPanel(l){n.value.includes(l)||(n.value.push(l),n.value=L(n.value,m))},unregisterPanel(l){let u=n.value.indexOf(l);u!==-1&&n.value.splice(u,1)}};K(ne,r);let d=x({tabs:[],panels:[]}),I=x(!1);B(()=>{I.value=!0}),K(V,h(()=>I.value?null:d.value));let S=h(()=>e.selectedIndex);return B(()=>{re([S],()=>{var l;return g((l=e.selectedIndex)!=null?l:e.defaultIndex)},{immediate:!0})}),se(()=>{if(!c.value||w.value==null||r.tabs.value.length<=0)return;let l=L(r.tabs.value,m);l.some((u,f)=>m(r.tabs.value[f])!==m(u))&&r.setSelectedIndex(l.findIndex(u=>m(u)===m(r.tabs.value[w.value])))}),()=>{let l={selectedIndex:s.value};return G(W,[t.value.length<=0&&G(he,{onFocus:()=>{for(let u of t.value){let f=m(u);if((f==null?void 0:f.tabIndex)===0)return f.focus(),!0}return!1}}),N({theirProps:{...v,...fe(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:l,slots:p,attrs:v,name:"TabGroup"})])}}}),Ie=A({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:p,slots:v}){let o=z("TabList");return()=>{let i={selectedIndex:o.selectedIndex.value},s={role:"tablist","aria-orientation":o.orientation.value};return N({ourProps:s,theirProps:e,slot:i,attrs:p,slots:v,name:"TabList"})}}}),xe=A({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:p,slots:v,expose:o}){var i;let s=(i=e.id)!=null?i:`headlessui-tabs-tab-${ae()}`,t=z("Tab"),n=x(null);o({el:n,$el:n}),B(()=>t.registerTab(n)),te(()=>t.unregisterTab(n));let c=M(V),w=h(()=>{if(c.value){let a=c.value.tabs.indexOf(s);return a===-1?c.value.tabs.push(s)-1:a}return-1}),g=h(()=>{let a=t.tabs.value.indexOf(n);return a===-1?w.value:a}),r=h(()=>g.value===t.selectedIndex.value);function d(a){var b;let y=a();if(y===D.Success&&t.activation.value==="auto"){let T=(b=be(n))==null?void 0:b.activeElement,k=t.tabs.value.findIndex(j=>m(j)===T);k!==-1&&t.setSelectedIndex(k)}return y}function I(a){let b=t.tabs.value.map(y=>m(y)).filter(Boolean);if(a.key===P.Space||a.key===P.Enter){a.preventDefault(),a.stopPropagation(),t.setSelectedIndex(g.value);return}switch(a.key){case P.Home:case P.PageUp:return a.preventDefault(),a.stopPropagation(),d(()=>H(b,$.First));case P.End:case P.PageDown:return a.preventDefault(),a.stopPropagation(),d(()=>H(b,$.Last))}if(d(()=>R(t.orientation.value,{vertical(){return a.key===P.ArrowUp?H(b,$.Previous|$.WrapAround):a.key===P.ArrowDown?H(b,$.Next|$.WrapAround):D.Error},horizontal(){return a.key===P.ArrowLeft?H(b,$.Previous|$.WrapAround):a.key===P.ArrowRight?H(b,$.Next|$.WrapAround):D.Error}}))===D.Success)return a.preventDefault()}let S=x(!1);function l(){var a;S.value||(S.value=!0,!e.disabled&&((a=m(n))==null||a.focus({preventScroll:!0}),t.setSelectedIndex(g.value),me(()=>{S.value=!1})))}function u(a){a.preventDefault()}let f=ve(h(()=>({as:e.as,type:p.type})),n);return()=>{var a,b;let y={selected:r.value,disabled:(a=e.disabled)!=null?a:!1},{...T}=e,k={ref:n,onKeydown:I,onMousedown:u,onClick:l,id:s,role:"tab",type:f.value,"aria-controls":(b=m(t.panels.value[g.value]))==null?void 0:b.id,"aria-selected":r.value,tabIndex:r.value?0:-1,disabled:e.disabled?!0:void 0};return N({ourProps:k,theirProps:T,slot:y,attrs:p,slots:v,name:"Tab"})}}}),Pe=A({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:p,attrs:v}){let o=z("TabPanels");return()=>{let i={selectedIndex:o.selectedIndex.value};return N({theirProps:e,ourProps:{},slot:i,attrs:v,slots:p,name:"TabPanels"})}}}),$e=A({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:p,slots:v,expose:o}){var i;let s=(i=e.id)!=null?i:`headlessui-tabs-panel-${ae()}`,t=z("TabPanel"),n=x(null);o({el:n,$el:n}),B(()=>t.registerPanel(n)),te(()=>t.unregisterPanel(n));let c=M(V),w=h(()=>{if(c.value){let d=c.value.panels.indexOf(s);return d===-1?c.value.panels.push(s)-1:d}return-1}),g=h(()=>{let d=t.panels.value.indexOf(n);return d===-1?w.value:d}),r=h(()=>g.value===t.selectedIndex.value);return()=>{var d;let I={selected:r.value},{tabIndex:S,...l}=e,u={ref:n,id:s,role:"tabpanel","aria-labelledby":(d=m(t.tabs.value[g.value]))==null?void 0:d.id,tabIndex:r.value?S:-1};return!r.value&&e.unmount&&!e.static?G(le,{as:"span","aria-hidden":!0,...u}):N({ourProps:u,theirProps:l,slot:I,attrs:p,slots:v,features:ee.Static|ee.RenderStrategy,visible:r.value,name:"TabPanel"})}}});const we=A({components:{HTabGroup:Te,HTabList:Ie,HTab:xe,HTabPanels:Pe,HTabPanel:$e},props:{orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},defaultIndex:{type:Number,default:0},items:{type:Array,default:()=>[]},ui:{type:Object,default:()=>ue.ui.tabs}},setup(e){const p=ie(),v=h(()=>oe({},e.ui,p.ui.tabs)),o=x([]),i=x();function s(t){var c;const n=(c=o.value[t])==null?void 0:c.$el;n&&(i.value.style.top=`${n.offsetTop}px`,i.value.style.left=`${n.offsetLeft}px`,i.value.style.width=`${n.offsetWidth}px`,i.value.style.height=`${n.offsetHeight}px`)}return B(()=>s(e.defaultIndex)),{ui:v,itemRefs:o,markerRef:i,onChange:s}}});function Se(e,p,v,o,i,s){const t=C("HTab"),n=C("HTabList"),c=C("HTabPanel"),w=C("HTabPanels"),g=C("HTabGroup");return E(),q(g,{vertical:e.orientation==="vertical","default-index":e.defaultIndex,as:"div",class:O(e.ui.wrapper),onChange:e.onChange},{default:F(()=>[X(n,{class:O([e.ui.list.base,e.ui.list.background,e.ui.list.rounded,e.ui.list.shadow,e.ui.list.padding,e.ui.list.width,e.orientation==="horizontal"&&e.ui.list.height,e.orientation==="horizontal"&&"inline-grid items-center"]),style:de([e.orientation==="horizontal"&&`grid-template-columns: repeat(${e.items.length}, minmax(0, 1fr))`])},{default:F(()=>[U("div",{ref:"markerRef",class:O(e.ui.list.marker.wrapper)},[U("div",{class:O([e.ui.list.marker.base,e.ui.list.marker.background,e.ui.list.marker.rounded,e.ui.list.marker.shadow])},null,2)],2),(E(!0),J(W,null,Q(e.items,(r,d)=>(E(),q(t,{key:d,ref_for:!0,ref:"itemRefs",disabled:r.disabled,as:"template"},{default:F(({selected:I,disabled:S})=>[U("button",{class:O([e.ui.list.tab.base,e.ui.list.tab.background,e.ui.list.tab.height,e.ui.list.tab.padding,e.ui.list.tab.size,e.ui.list.tab.font,e.ui.list.tab.rounded,e.ui.list.tab.shadow,I?e.ui.list.tab.active:e.ui.list.tab.inactive])},[Y(e.$slots,"default",{item:r,index:d,selected:I,disabled:S},()=>[Z(_(r.label),1)])],2)]),_:2},1032,["disabled"]))),128))]),_:3},8,["class","style"]),X(w,{class:O(e.ui.container)},{default:F(()=>[(E(!0),J(W,null,Q(e.items,(r,d)=>(E(),q(c,{key:d,class:O(e.ui.base)},{default:F(({selected:I})=>[Y(e.$slots,r.slot||"item",{item:r,index:d,selected:I},()=>[Z(_(r.content),1)])]),_:2},1032,["class"]))),128))]),_:3},8,["class"])]),_:3},8,["vertical","default-index","class","onChange"])}const Le=pe(we,[["render",Se]]);export{Le as default};
