import{_ as k}from"./nzhyw4-Z.js";import{X as l}from"./BDEeDIwr.js";import{e as C,s as I,f as L,g as S,o as c,h as V,w as p,a as r,b as n,i,c as u,r as D,t as m,j as F,F as $}from"./DFVm4NPh.js";import{_ as v}from"./BnmkgdtR.js";/* empty css        */import{u as E}from"./BRKTF25G.js";import{_ as x}from"./D8p04lkY.js";import{_}from"./CNpP0kGe.js";import{_ as B}from"./uhLm67I1.js";import"./awSMyq0J.js";import"./DlAUqK2U.js";import"./Bj-PnIja.js";import"./BpXJ3t4k.js";import"./B05HPIib.js";import"./D5y8FroI.js";import"./B_7wH41M.js";import"./QbBb9rFs.js";import"./B1VAvD7b.js";import"./5Q-RKaCz.js";import"./BCNAepu4.js";import"./0qAV6zC5.js";import"./DgmwlLno.js";import"./Bzy3NznM.js";import"./h9XeG6ng.js";import"./V8n92ecy.js";import"./DPxmNygB.js";import"./DsIA2G5F.js";import"./BKCMpDB6.js";import"./PLEq0hNF.js";import"./B33bflHF.js";import"./DxTMCm_i.js";import"./DqbQgBaR.js";import"./BuMp5kCj.js";import"./DfFDNbgx.js";const N={class:"container mx-auto px-4 py-8"},O={class:"flex justify-between items-center mr-5 ml-6 mb-6"},q={class:"space-y-4"},G={class:"bg-white dark:bg-gray-800 shadow-md rounded-lg p-6"},j={class:"flex flex-col sm:flex-row justify-between items-center pb-4"},R={class:"text-left"},M={class:"text-gray-700 dark:text-gray-300 font-bold flex items-center text-xl gap-2"},P={class:"text-gray-700 dark:text-gray-300"},W={class:"text-gray-700 dark:text-gray-300"},X={class:"text-gray-700 dark:text-gray-300"},T={class:"mt-4 flex flex-col items-end space-y-2"},z={class:"space-y-4"},H={key:0,class:"border-gray-300 dark:border-gray-600 my-4"},Ve=C({__name:"UserAddress",setup(J){const t=E(),{fieldValues:g,fieldErrors:d}=I(t),w=L({initialValues:g.value});t.SetFields(w);const o={addressId:l({id:"addressId",name:"Address Id",rules:"required",visible:!0,option:""}),addressLine:l({id:"addressLine",name:"Address Line",rules:"required",visible:!0,option:""}),ward:l({id:"ward",name:"ward",rules:"",visible:!0,option:""}),city:l({id:"city",name:"city",rules:"required",visible:!0,option:""}),province:l({id:"province",name:"province",rules:"required",visible:!0,option:""}),district:l({id:"district",name:"district",rules:"required",visible:!0,option:""})},y=async a=>{const e=await t.uUDSSelectUserAddressEntity.find(s=>s.addressId===a);console.log("ADDRESS ID : "+(e==null?void 0:e.addressId)),t.fields.setFieldValue("addressId",e==null?void 0:e.addressId),t.fields.setFieldValue("addressLine",e==null?void 0:e.addressLine),t.fields.setFieldValue("ward",e==null?void 0:e.ward),t.fields.setFieldValue("province",e==null?void 0:e.province),t.fields.setFieldValue("district",e==null?void 0:e.district)},h=async()=>{await t.InsertAddress(),await t.GetAddress()},b=async a=>{await t.RemoveAddress(a)&&t.GetAddress()},A=async()=>{await t.UpdateAddress()&&t.GetAddress()};return S(async()=>{await t.GetAddress(),t.fields.setFieldValue("addressId","2")}),(a,e)=>(c(),V(k,null,{body:p(()=>[r("div",N,[r("div",O,[e[0]||(e[0]=r("h1",{class:"text-2xl font-bold dark:text-white"},"My Addresses",-1)),n(x,{header:"Add New Address","button-icon":"pi pi-plus","button-label":"Add New Address","button-severity":"contrast","cancel-label":"Cancel","confirm-label":"Add",width:"60rem",onOnConfirm:h},{body:p(()=>[r("div",q,[r("div",null,[n(v,{"xml-column":o.addressLine,maxlength:50,disabled:!1,"err-msg":i(d).addressLine,placeholder:"Enter your street address"},null,8,["xml-column","err-msg"])]),r("div",null,[n(_,{"xml-column-province":o.province,"maxlength-province":50,"disabled-province":!1,"err-msg-province":i(d).province,"placeholder-province":"Province","xml-column-district":o.district,"maxlength-district":50,"disabled-district":!1,"err-msg-district":i(d).district,"placeholder-district":"District","xml-column-ward":o.ward,"maxlength-ward":50,"disabled-ward":!1,"err-msg-ward":i(d).ward,"placeholder-ward":"Ward"},null,8,["xml-column-province","err-msg-province","xml-column-district","err-msg-district","xml-column-ward","err-msg-ward"])])])]),_:1})]),r("div",G,[(c(!0),u($,null,D(i(t).uUDSSelectUserAddressEntity??[],(s,f)=>(c(),u("div",{key:f},[r("div",j,[r("div",R,[r("div",M,m(((s==null?void 0:s.firstName)??"")+" "+((s==null?void 0:s.lastName)??"")),1),r("p",P,m(s.addressLine),1),r("p",W,m(s.ward),1),r("p",X,m(`${s.city}, ${s.province}
                  ${s.district}`),1)]),r("div",T,[n(x,{header:"Update Address","button-icon":"pi pi-pencil","button-label":"Update address","button-severity":"Secondary","cancel-label":"Cancel","confirm-label":"Update",width:"60rem",onOnBlindingUpdate:U=>y(s.addressId??""),onOnConfirm:A},{body:p(()=>[r("div",z,[r("div",null,[n(v,{"xml-column":o.addressLine,maxlength:50,disabled:!1,"err-msg":i(d).addressLine,placeholder:"Enter your street address"},null,8,["xml-column","err-msg"])]),r("div",null,[n(_,{"xml-column-province":o.province,"maxlength-province":50,"disabled-province":!1,"err-msg-province":i(d).province,"placeholder-province":"Province","xml-column-district":o.district,"maxlength-district":50,"disabled-district":!1,"err-msg-district":i(d).district,"placeholder-district":"District","xml-column-ward":o.ward,"maxlength-ward":50,"disabled-ward":!1,"err-msg-ward":i(d).ward,"placeholder-ward":"Ward"},null,8,["xml-column-province","err-msg-province","xml-column-district","err-msg-district","xml-column-ward","err-msg-ward"])])])]),_:2},1032,["onOnBlindingUpdate"]),n(B,{onOnConfirm:U=>b(s.addressId??"")},null,8,["onOnConfirm"])])]),f<i(t).uUDSSelectUserAddressEntity.length-1?(c(),u("hr",H)):F("",!0)]))),128))])])]),_:1}))}});export{Ve as default};
