import B from"./DPxmNygB.js";import{e as A,c5 as K,D as o,l as L,g as O,af as P,bX as I,F as R,dn as p,dp as q,dq as z,dr as b,U as G,o as g,h as M,w as X,a as J,c as S,b as V,n as c,j as w}from"./DFVm4NPh.js";import{u as Q}from"./elAu3zWO.js";import{_ as W}from"./DlAUqK2U.js";import{d as Y,p as Z}from"./DnmvK3oJ.js";import{i as _,o as x,E as ee,A as ae,T as te,a as $}from"./DRmxXga8.js";import{s as le}from"./BHeKWSUs.js";import{f as ne,u as oe}from"./DfbMX9JH.js";let ue=Symbol("GroupContext"),re=A({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(e,{emit:r,attrs:s,slots:t,expose:m}){var i;let d=(i=e.id)!=null?i:`headlessui-switch-${_()}`,l=K(ue,null),[n,v]=Y(o(()=>e.modelValue),a=>r("update:modelValue",a),o(()=>e.defaultChecked));function h(){v(!n.value)}let E=L(null),f=l===null?E:l.switchRef,D=le(o(()=>({as:e.as,type:s.type})),f);m({el:f,$el:f});function N(a){a.preventDefault(),h()}function j(a){a.key===$.Space?(a.preventDefault(),h()):a.key===$.Enter&&Z(a.currentTarget)}function F(a){a.preventDefault()}let y=o(()=>{var a,u;return(u=(a=x(f))==null?void 0:a.closest)==null?void 0:u.call(a,"form")});return O(()=>{P([y],()=>{if(!y.value||e.defaultChecked===void 0)return;function a(){v(e.defaultChecked)}return y.value.addEventListener("reset",a),()=>{var u;(u=y.value)==null||u.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{name:a,value:u,form:H,tabIndex:C,...k}=e,T={checked:n.value},U={id:d,ref:f,role:"switch",type:D.value,tabIndex:C===-1?0:C,"aria-checked":n.value,"aria-labelledby":l==null?void 0:l.labelledby.value,"aria-describedby":l==null?void 0:l.describedby.value,onClick:N,onKeyup:j,onKeypress:F};return I(R,[a!=null&&n.value!=null?I(ne,ee({features:oe.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:n.value,form:H,disabled:k.disabled,name:a,value:u})):null,ae({ourProps:U,theirProps:{...s,...te(k,["modelValue","defaultChecked"])},slot:T,attrs:s,slots:t,name:"Switch"})])}}});const se=A({components:{HSwitch:re,UIcon:B},props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onIcon:{type:String,default:()=>p.ui.toggle.default.onIcon},offIcon:{type:String,default:()=>p.ui.toggle.default.offIcon},color:{type:String,default:()=>p.ui.toggle.default.color,validator(e){return p.ui.colors.includes(e)}},ui:{type:Object,default:()=>p.ui.toggle}},emits:["update:modelValue"],setup(e,{emit:r}){const s=q(),t=o(()=>z({},e.ui,s.ui.toggle)),{emitFormBlur:m}=Q(),i=o({get(){return e.modelValue},set(v){r("update:modelValue",v),m()}}),d=o(()=>b(t.value.base,t.value.rounded,t.value.ring.replaceAll("{color}",e.color),(i.value?t.value.active:t.value.inactive).replaceAll("{color}",e.color))),l=o(()=>b(t.value.icon.on.replaceAll("{color}",e.color))),n=o(()=>b(t.value.icon.off.replaceAll("{color}",e.color)));return{ui:t,active:i,switchClass:d,onIconClass:l,offIconClass:n}}});function ie(e,r,s,t,m,i){const d=B,l=G("HSwitch");return g(),M(l,{modelValue:e.active,"onUpdate:modelValue":r[0]||(r[0]=n=>e.active=n),name:e.name,disabled:e.disabled,class:c(e.switchClass)},{default:X(()=>[J("span",{class:c([e.active?e.ui.container.active:e.ui.container.inactive,e.ui.container.base])},[e.onIcon?(g(),S("span",{key:0,class:c([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[V(d,{name:e.onIcon,class:c(e.onIconClass)},null,8,["name","class"])],2)):w("",!0),e.offIcon?(g(),S("span",{key:1,class:c([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[V(d,{name:e.offIcon,class:c(e.offIconClass)},null,8,["name","class"])],2)):w("",!0)],2)]),_:1},8,["modelValue","name","disabled","class"])}const ge=W(se,[["render",ie]]);export{ge as default};
