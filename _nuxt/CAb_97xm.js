import{i as b,bU as g,co as h,l as S,I as v,af as y}from"./DFVm4NPh.js";function m(e){return g()?(h(e),!0):!1}function f(e){return typeof e=="function"?e():b(e)}const d=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const I=Object.prototype.toString,x=e=>I.call(e)==="[object Object]",A=()=>+Date.now(),p=()=>{},D=O();function O(){var e,n;return d&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function P(e,n){function i(...t){return new Promise((s,o)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(s).catch(o)})}return i}function T(e,n={}){let i,t,s=p;const o=r=>{clearTimeout(r),s(),s=p};return r=>{const l=f(e),u=f(n.maxWait);return i&&o(i),l<=0||u!==void 0&&u<=0?(t&&(o(t),t=null),Promise.resolve(r())):new Promise((a,w)=>{s=n.rejectOnCancel?w:a,u&&!t&&(t=setTimeout(()=>{i&&o(i),t=null,a(r())},u)),i=setTimeout(()=>{t&&o(t),t=null,a(r())},l)})}}function W(e,n=200,i={}){return P(T(n,i),e)}function C(e,n=1e3,i={}){const{immediate:t=!0,immediateCallback:s=!1}=i;let o=null;const c=S(!1);function r(){o&&(clearInterval(o),o=null)}function l(){c.value=!1,r()}function u(){const a=f(n);a<=0||(c.value=!0,s&&e(),r(),o=setInterval(e,a))}if(t&&d&&u(),v(n)||typeof n=="function"){const a=y(n,()=>{c.value&&d&&u()});m(a)}return m(l),{isActive:c,pause:l,resume:u}}export{x as a,m as b,A as c,d,W as e,D as i,p as n,f as t,C as u};
