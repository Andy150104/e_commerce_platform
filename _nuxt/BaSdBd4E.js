import F from"./3OUur2A8.js";import{u as k,_}from"./BbryYVfn.js";import{p as C,q as P,C as V,v as U,x as B,y as E,z as L,e as N,l as g,s as M,f as T,S as x,g as A,o as m,h as j,w as z,i as l,c as d,a as e,d as v,n as c,j as I,b as u,A as h}from"./DFVm4NPh.js";import{X as O}from"./BDEeDIwr.js";import{_ as R}from"./Bzy3NznM.js";import{_ as $}from"./h9XeG6ng.js";import"./Bj-PnIja.js";import"./BpXJ3t4k.js";import"./B05HPIib.js";import"./D5y8FroI.js";import"./QbBb9rFs.js";import"./DlAUqK2U.js";import"./V8n92ecy.js";import"./DPxmNygB.js";import"./DsIA2G5F.js";import"./BKCMpDB6.js";import"./PLEq0hNF.js";import"./0qAV6zC5.js";import"./B33bflHF.js";import"./DxTMCm_i.js";import"./DgmwlLno.js";const p={email:""},Z=C(p),D={values:p,errors:Z,...L},H=P("UpdatePass",{state:()=>({fields:D,createFlgUpdatePass:!1,createFlgPlan:!1,createFlgPersonalInfo:!1,createFlgComplete:!1}),getters:{fieldValues:a=>a.fields.values,fieldValid:a=>a.fields.meta.valid,fieldErrors:a=>a.fields.errors},actions:{ResetStore(){this.fields.resetForm()},SetFields(a){this.fields=a},async Validate(){return await this.fields.validate(),this.fieldValid},async updatePassword(){if((await this.fields.validate()).valid===!1)return!1;const r=V(this.fields.values,p);console.log("email",r.email);const o=U(),t=B(),n=E();n.LoadingChange(!0);const i=await o.api.v1.FPSForgotPassword.$post({body:{isOnlyValidation:!1,email:r.email}});return n.LoadingChange(!1),i.success?(t.SetFormMessage(i,!0),!0):(t.SetFormMessage(i,!0),!1)}}}),X={key:1},q={class:"py-20 mx-14 text-center"},G={class:"flex justify-between mt-8"},Y={key:2},he=N({__name:"index",setup(a){const r=g(!1),o=k(),t=H(),{fieldValues:n,fieldErrors:i}=M(t),w=T({initialValues:n.value});t.SetFields(w);const y=g([{nameItem:"Confirm Account",status:x.currentStep},{nameItem:"Reset Code",status:x.finishStep}]),f={email:O({id:"email",name:"Email",rules:"",visible:!0,option:""})},b=async()=>{if(t.createFlgUpdatePass){if(!await t.updatePassword())return;o.moveToNextStep(),t.createFlgUpdatePass=!1}},S=()=>{t.createFlgUpdatePass&&(window.location.href=document.referrer)};return A(()=>{t.createFlgUpdatePass=!0,o.SetValues(y)}),(J,s)=>(m(),j(F,null,{body:z(()=>[l(r)?(m(),d("div",{key:0,class:c(["fixed top-5 right-5 z-50 w-96 transition-opacity duration-1000 ease-out",{"opacity-0":!l(r)}])},s[0]||(s[0]=[e("div",{class:"flex items-center p-4 text-sm text-green-800 rounded-lg bg-green-50 shadow-lg",role:"alert"},[e("svg",{class:"flex-shrink-0 w-4 h-4 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M18 10A8 8 0 1 1 2 10a8 8 0 0 1 16 0ZM9 13h2v2H9v-2Zm0-6h2v4H9V7Z"})]),e("span",{class:"font-medium"},"Success!"),v(" Profile updated successfully. ")],-1)]),2)):I("",!0),u(_,{items:l(o).steppList,class:"pt-14"},null,8,["items"]),l(t).createFlgUpdatePass?(m(),d("div",X,[s[2]||(s[2]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white text-center mb-8 pt-4"},"Forgot Password",-1)),s[3]||(s[3]=e("div",{class:"mb-10 animate-jump-in animate-once animate-ease-linear"},null,-1)),e("div",q,[s[1]||(s[1]=e("div",{class:"space-y-4"},[e("h2",{class:"text-2xl font-semibold"},"Account Confirm"),e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Please Enter your recovery email.")],-1)),e("div",null,[u(R,{"xml-column":f.email},null,8,["xml-column"]),u($,{"xml-column":f.email,maxlength:50,disabled:!1,"err-msg":l(i).email,placeholder:"abc@gmail.com"},null,8,["xml-column","err-msg"])])]),e("div",G,[e("button",{class:c(l(h).BUTTON_DEFAULT_GRAY_1),onClick:S},"Back",2),e("button",{class:c(l(h).BUTTON_DEFAULT_BLUE_2),onClick:b},"Next",2)])])):(m(),d("div",Y,s[4]||(s[4]=[e("section",{class:"bg-white dark:bg-gray-900"},[e("div",{class:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 grid lg:grid-cols-2 gap-8 lg:gap-16"},[e("div",{class:"flex flex-col justify-center"},[e("h1",{class:"mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white"}," Email has been sended!!!! "),e("p",{class:"mb-8 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400"},"Please check your email"),e("div",{class:"flex flex-col space-y-4 sm:flex-row sm:space-y-0"},[e("a",{href:"https://mail.google.com/",class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900"},[v(" Open Email Now "),e("svg",{class:"w-3.5 h-3.5 ms-2 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})])])])])])],-1)])))]),_:1}))}});export{he as default};
