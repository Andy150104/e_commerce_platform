import K from"./Hcf3DKt2.js";import X from"./BKCMpDB6.js";import Y from"./DPxmNygB.js";import{e as I,dn as S,dp as _,D as k,dq as w,l as x,o as d,c as m,a as g,n as c,b as E,j as C,F as B,r as O,O as v,h as R,P as ee,t as A,aQ as te,d as ne,cN as $}from"./DFVm4NPh.js";import{_ as oe}from"./DlAUqK2U.js";import{b as ae,o as re}from"./B3PgtydS.js";import{d as J,e as H,a as j,b as ue}from"./BpMd8du9.js";import{b as ie}from"./adkIYQe8.js";import{b as se}from"./CFsPa0JK.js";import{e as le}from"./B33bflHF.js";import{i as de}from"./BpbWEv0s.js";import{c as M}from"./DxTMCm_i.js";import"./elAu3zWO.js";import"./PLEq0hNF.js";import"./0qAV6zC5.js";import"./CzO2N3BU.js";import"./-mdl1zzC.js";import"./Sprb8a3n.js";import"./B-rOowS4.js";function ce(e,t,n){var i=e.length;return n=n===void 0?i:n,!t&&n>=i?e:ae(e,t,n)}var fe="\\ud800-\\udfff",me="\\u0300-\\u036f",pe="\\ufe20-\\ufe2f",ge="\\u20d0-\\u20ff",be=me+pe+ge,ye="\\ufe0e\\ufe0f",Se="\\u200d",ke=RegExp("["+Se+fe+be+ye+"]");function L(e){return ke.test(e)}function he(e){return e.split("")}var P="\\ud800-\\udfff",Ce="\\u0300-\\u036f",ve="\\ufe20-\\ufe2f",Ae="\\u20d0-\\u20ff",$e=Ce+ve+Ae,Ve="\\ufe0e\\ufe0f",we="["+P+"]",U="["+$e+"]",F="\\ud83c[\\udffb-\\udfff]",Be="(?:"+U+"|"+F+")",q="[^"+P+"]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",W="[\\ud800-\\udbff][\\udc00-\\udfff]",Oe="\\u200d",Z=Be+"?",D="["+Ve+"]?",Re="(?:"+Oe+"(?:"+[q,N,W].join("|")+")"+D+Z+")*",je=D+Z+Re,Me="(?:"+[q+U+"?",U,N,W,we].join("|")+")",Ue=RegExp(F+"(?="+F+")|"+Me+je,"g");function Fe(e){return e.match(Ue)||[]}function Te(e){return L(e)?Fe(e):he(e)}function Ee(e){return function(t){t=J(t);var n=L(t)?Te(t):void 0,i=n?n[0]:t.charAt(0),l=n?ce(n,1).join(""):t.slice(1);return i[e]()+l}}var He=Ee("toUpperCase");function Je(e){return He(J(e).toLowerCase())}function Le(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Pe(e,t){if(e!==t){var n=e!==void 0,i=e===null,l=e===e,s=H(e),r=t!==void 0,p=t===null,u=t===t,a=H(t);if(!p&&!a&&!s&&e>t||s&&r&&u&&!p&&!a||i&&r&&u||!n&&u||!l)return 1;if(!i&&!s&&!a&&e<t||a&&n&&l&&!i&&!s||p&&n&&l||!r&&l||!u)return-1}return 0}function qe(e,t,n){for(var i=-1,l=e.criteria,s=t.criteria,r=l.length,p=n.length;++i<r;){var u=Pe(l[i],s[i]);if(u){if(i>=p)return u;var a=n[i];return u*(a=="desc"?-1:1)}}return e.index-t.index}function Ne(e,t,n){t.length?t=j(t,function(s){return M(s)?function(r){return ue(r,s.length===1?s[0]:s)}:s}):t=[de];var i=-1;t=j(t,le(ie));var l=se(e,function(s,r,p){var u=j(t,function(a){return a(s)});return{criteria:u,index:++i,value:s}});return Le(l,function(s,r){return qe(s,r,n)})}function We(e,t,n,i){return e==null?[]:(M(t)||(t=t==null?[]:[t]),n=n,M(n)||(n=n==null?[]:[n]),Ne(e,t,n))}function Ze(e,t){return e===t}const De=I({props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>Ze},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortButton:{type:Object,default:()=>S.ui.table.default.sortButton},sortAscIcon:{type:String,default:()=>S.ui.table.default.sortAscIcon},sortDescIcon:{type:String,default:()=>S.ui.table.default.sortDescIcon},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>S.ui.table.default.loadingState},emptyState:{type:Object,default:()=>S.ui.table.default.emptyState},ui:{type:Object,default:()=>S.ui.table}},emits:["update:modelValue"],setup(e,{emit:t,attrs:n}){const i=_(),l=k(()=>w({},e.ui,i.ui.table)),s=k(()=>e.columns??Object.keys(re(e.rows[0]??{},["click"])).map(o=>({key:o,label:Je(o),sortable:!1}))),r=x(w({},e.sort,{column:null,direction:"asc"})),p=k(()=>{var h;if(!((h=r.value)!=null&&h.column))return e.rows;const{column:o,direction:f}=r.value;return We(e.rows,o,f)}),u=k({get(){return e.modelValue},set(o){t("update:modelValue",o)}}),a=k(()=>u.value&&u.value.length>0&&u.value.length<e.rows.length),y=k(()=>({...l.value.default.emptyState,...e.emptyState}));function b(o,f){if(typeof e.by=="string"){const h=e.by;return(o==null?void 0:o[h])===(f==null?void 0:f[h])}return e.by(o,f)}function V(o){return e.modelValue?u.value.some(f=>b($(f),$(o))):!1}function G(o){if(r.value.column===o.key){const f=!o.direction||o.direction==="asc"?"desc":"asc";r.value.direction===f?r.value=w({},e.sort,{column:null,direction:"asc"}):r.value.direction=r.value.direction==="asc"?"desc":"asc"}else r.value={column:o.key,direction:o.direction||"asc"}}function T(o){n.onSelect&&n.onSelect(o)}function Q(){e.rows.forEach(o=>{u.value.some(f=>b($(f),$(o)))||T(o)})}function z(o){o.target.checked?Q():u.value=[]}return{ui:l,sort:r,columns:s,rows:p,selected:u,indeterminate:a,emptyState:y,isSelected:V,onSort:G,onSelect:T,onChange:z}}}),Ge={key:0,scope:"col",class:"ps-4"},Qe={key:1},ze={key:0},Ke=["colspan"],Xe={key:1},Ye=["colspan"],Ie=["onClick"],_e={key:0,class:"ps-4"};function xe(e,t,n,i,l,s){const r=K,p=X,u=Y;return d(),m("div",{class:c(e.ui.wrapper)},[g("table",{class:c([e.ui.base,e.ui.divide])},[g("thead",{class:c(e.ui.thead)},[g("tr",{class:c(e.ui.tr.base)},[e.modelValue?(d(),m("th",Ge,[E(r,{checked:e.indeterminate||e.selected.length===e.rows.length,indeterminate:e.indeterminate,onChange:e.onChange},null,8,["checked","indeterminate","onChange"])])):C("",!0),(d(!0),m(B,null,O(e.columns,(a,y)=>(d(),m("th",{key:y,scope:"col",class:c([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,a.class])},[v(e.$slots,`${a.key}-header`,{column:a,sort:e.sort,onSort:e.onSort},()=>[a.sortable?(d(),R(p,ee({key:0,ref_for:!0},{...e.ui.default.sortButton,...e.sortButton},{icon:!e.sort.column||e.sort.column!==a.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:a[e.columnAttribute],onClick:b=>e.onSort(a)}),null,16,["icon","label","onClick"])):(d(),m("span",Qe,A(a[e.columnAttribute]),1))])],2))),128))],2)],2),g("tbody",{class:c(e.ui.tbody)},[e.loadingState&&e.loading?(d(),m("tr",ze,[g("td",{colspan:e.columns.length+(e.modelValue?1:0)},[v(e.$slots,"loading-state",{},()=>[g("div",{class:c(e.ui.loadingState.wrapper)},[e.loadingState.icon?(d(),R(u,{key:0,name:e.loadingState.icon,class:c(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):C("",!0),g("p",{class:c(e.ui.loadingState.label)},A(e.loadingState.label),3)],2)])],8,Ke)])):e.emptyState&&!e.rows.length?(d(),m("tr",Xe,[g("td",{colspan:e.columns.length+(e.modelValue?1:0)},[v(e.$slots,"empty-state",{},()=>[g("div",{class:c(e.ui.emptyState.wrapper)},[e.emptyState.icon?(d(),R(u,{key:0,name:e.emptyState.icon,class:c(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):C("",!0),g("p",{class:c(e.ui.emptyState.label)},A(e.emptyState.label),3)],2)])],8,Ye)])):(d(!0),m(B,{key:2},O(e.rows,(a,y)=>(d(),m("tr",{key:y,class:c([e.ui.tr.base,e.isSelected(a)&&e.ui.tr.selected,e.$attrs.onSelect&&e.ui.tr.active]),onClick:()=>e.onSelect(a)},[e.modelValue?(d(),m("td",_e,[E(r,{modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=b=>e.selected=b),value:a,onClick:t[1]||(t[1]=te(()=>{},["stop"]))},null,8,["modelValue","value"])])):C("",!0),(d(!0),m(B,null,O(e.columns,(b,V)=>(d(),m("td",{key:V,class:c([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size])},[v(e.$slots,`${b.key}-data`,{column:b,row:a,index:y},()=>[ne(A(a[b.key]),1)])],2))),128))],10,Ie))),128))],2)],2)],2)}const kt=oe(De,[["render",xe]]);export{kt as default};
