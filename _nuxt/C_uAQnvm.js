import W from"./DPxmNygB.js";import{e as M,dn as i,dp as U,D as t,dq as G,dr as g,o as r,c as o,a as H,F as z,r as k,t as N,P as J,n as v,O,b as B,j}from"./DFVm4NPh.js";import{u as K}from"./elAu3zWO.js";import{_ as Q}from"./DlAUqK2U.js";import{g as I}from"./Sprb8a3n.js";import"./BpMd8du9.js";import"./DxTMCm_i.js";const R=M({components:{UIcon:W},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>i.ui.input.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>i.ui.select.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:()=>i.ui.select.default.size,validator(e){return Object.keys(i.ui.select.size).includes(e)}},color:{type:String,default:()=>i.ui.select.default.color,validator(e){return[...i.ui.colors,...Object.keys(i.ui.select.color)].includes(e)}},variant:{type:String,default:()=>i.ui.select.default.variant,validator(e){return[...Object.keys(i.ui.select.variant),...Object.values(i.ui.select.color).flatMap(u=>Object.keys(u))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},ui:{type:Object,default:()=>i.ui.select}},emits:["update:modelValue","change"],setup(e,{emit:u,slots:C}){const m=U(),l=t(()=>G({},e.ui,m.ui.select)),{emitFormBlur:$}=K(),b=a=>{u("update:modelValue",a.target.value)},n=a=>{$(),u("change",a)},s=a=>I(a,e.valueAttribute,I(a,e.optionAttribute)),d=a=>I(a,e.optionAttribute,I(a,e.valueAttribute)),f=a=>["string","number","boolean"].includes(typeof a)?{[e.valueAttribute]:a,[e.optionAttribute]:a}:{...a,[e.valueAttribute]:s(a),[e.optionAttribute]:d(a)},S=t(()=>e.options.map(a=>f(a))),h=t(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...S.value]:S.value),q=t(()=>{const a=f(e.modelValue),c=h.value.find(A=>A[e.valueAttribute]===a[e.valueAttribute]);return c?c[e.valueAttribute]:""}),F=t(()=>{var c,A;const a=((A=(c=l.value.color)==null?void 0:c[e.color])==null?void 0:A[e.variant])||l.value.variant[e.variant];return g(l.value.base,l.value.rounded,l.value.size[e.size],e.padded?l.value.padding[e.size]:"p-0",a==null?void 0:a.replaceAll("{color}",e.color),(y.value||C.leading)&&l.value.leading.padding[e.size],(V.value||C.trailing)&&l.value.trailing.padding[e.size])}),y=t(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),V=t(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),P=t(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),w=t(()=>e.loading&&!y.value?e.loadingIcon:e.trailingIcon||e.icon),L=t(()=>g(l.value.icon.leading.wrapper,l.value.icon.leading.pointer,l.value.icon.leading.padding[e.size])),T=t(()=>g(l.value.icon.base,m.ui.colors.includes(e.color)&&l.value.icon.color.replaceAll("{color}",e.color),l.value.icon.size[e.size],e.loading&&"animate-spin")),D=t(()=>g(l.value.icon.trailing.wrapper,l.value.icon.trailing.pointer,l.value.icon.trailing.padding[e.size])),E=t(()=>g(l.value.icon.base,m.ui.colors.includes(e.color)&&l.value.icon.color.replaceAll("{color}",e.color),l.value.icon.size[e.size],e.loading&&!y.value&&"animate-spin"));return{ui:l,normalizedOptionsWithPlaceholder:h,normalizedValue:q,isLeading:y,isTrailing:V,selectClass:F,leadingIconName:P,leadingIconClass:T,leadingWrapperIconClass:L,trailingIconName:w,trailingIconClass:E,trailingWrapperIconClass:D,onInput:b,onChange:n}}}),X=["id","name","value","required","disabled"],Y=["value","label"],Z=["value","selected","disabled","textContent"],p=["value","selected","disabled","textContent"];function _(e,u,C,m,l,$){const b=W;return r(),o("div",{class:v(e.ui.wrapper)},[H("select",J({id:e.name,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled||e.loading,class:["form-select",e.selectClass]},e.$attrs,{onInput:u[0]||(u[0]=(...n)=>e.onInput&&e.onInput(...n)),onChange:u[1]||(u[1]=(...n)=>e.onChange&&e.onChange(...n))}),[(r(!0),o(z,null,k(e.normalizedOptionsWithPlaceholder,(n,s)=>(r(),o(z,null,[n.children?(r(),o("optgroup",{key:`${n[e.valueAttribute]}-optgroup-${s}`,value:n[e.valueAttribute],label:n[e.optionAttribute]},[(r(!0),o(z,null,k(n.children,(d,f)=>(r(),o("option",{key:`${d[e.valueAttribute]}-${s}-${f}`,value:d[e.valueAttribute],selected:d[e.valueAttribute]===e.normalizedValue,disabled:d.disabled,textContent:N(d[e.optionAttribute])},null,8,Z))),128))],8,Y)):(r(),o("option",{key:`${n[e.valueAttribute]}-${s}`,value:n[e.valueAttribute],selected:n[e.valueAttribute]===e.normalizedValue,disabled:n.disabled,textContent:N(n[e.optionAttribute])},null,8,p))],64))),256))],16,X),e.isLeading&&e.leadingIconName||e.$slots.leading?(r(),o("span",{key:0,class:v(e.leadingWrapperIconClass)},[O(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[B(b,{name:e.leadingIconName,class:v(e.leadingIconClass)},null,8,["name","class"])])],2)):j("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(r(),o("span",{key:1,class:v(e.trailingWrapperIconClass)},[O(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[B(b,{name:e.trailingIconName,class:v(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])])],2)):j("",!0)],2)}const ue=Q(R,[["render",_]]);export{ue as default};
