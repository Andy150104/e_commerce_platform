import N from"./DPxmNygB.js";import j from"./BKCMpDB6.js";import{e as B,l as v,ct as z,D as y,g as K,K as M,d8 as q,c5 as V,af as G,dn as O,dp as Q,dq as J,U as E,o as P,c as w,F as W,r as X,h as Y,w as D,b as g,O as L,P as A,n as $,G as Z,a as x,d as ee,t as te,an as oe,b5 as ne}from"./DFVm4NPh.js";import{_ as se}from"./DlAUqK2U.js";import{i as _,u as T,o as b,A as k,N as U,a as S}from"./DRmxXga8.js";import{s as le}from"./BHeKWSUs.js";import{t as ae,i as I,l as re}from"./22etpbUe.js";import{o as ue}from"./B3PgtydS.js";import"./PLEq0hNF.js";import"./0qAV6zC5.js";import"./B33bflHF.js";import"./DxTMCm_i.js";import"./BpMd8du9.js";import"./CzO2N3BU.js";import"./BpbWEv0s.js";import"./-mdl1zzC.js";var ie=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ie||{});let R=Symbol("DisclosureContext");function C(e){let a=V(R,null);if(a===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,C),u}return a}let F=Symbol("DisclosurePanelContext");function ce(){return V(F,null)}let pe=B({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:a,attrs:u}){let r=v(e.defaultOpen?0:1),t=v(null),p=v(null),l={buttonId:v(`headlessui-disclosure-button-${_()}`),panelId:v(`headlessui-disclosure-panel-${_()}`),disclosureState:r,panel:t,button:p,toggleDisclosure(){r.value=T(r.value,{0:1,1:0})},closeDisclosure(){r.value!==1&&(r.value=1)},close(s){l.closeDisclosure();let i=s?s instanceof HTMLElement?s:s.value instanceof HTMLElement?b(s):b(l.button):b(l.button);i==null||i.focus()}};return z(R,l),ae(y(()=>T(r.value,{0:I.Open,1:I.Closed}))),()=>{let{defaultOpen:s,...i}=e,d={open:r.value===0,close:l.close};return k({theirProps:i,ourProps:{},slot:d,slots:a,attrs:u,name:"Disclosure"})}}}),de=B({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:a,slots:u,expose:r}){let t=C("DisclosureButton"),p=ce(),l=y(()=>p===null?!1:p.value===t.panelId.value);K(()=>{l.value||e.id!==null&&(t.buttonId.value=e.id)}),M(()=>{l.value||(t.buttonId.value=null)});let s=v(null);r({el:s,$el:s}),l.value||q(()=>{t.button.value=s.value});let i=le(y(()=>({as:e.as,type:a.type})),s);function d(){var o;e.disabled||(l.value?(t.toggleDisclosure(),(o=b(t.button))==null||o.focus()):t.toggleDisclosure())}function n(o){var f;if(!e.disabled)if(l.value)switch(o.key){case S.Space:case S.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure(),(f=b(t.button))==null||f.focus();break}else switch(o.key){case S.Space:case S.Enter:o.preventDefault(),o.stopPropagation(),t.toggleDisclosure();break}}function c(o){switch(o.key){case S.Space:o.preventDefault();break}}return()=>{var o;let f={open:t.disclosureState.value===0},{id:m,...h}=e,H=l.value?{ref:s,type:i.value,onClick:d,onKeydown:n}:{id:(o=t.buttonId.value)!=null?o:m,ref:s,type:i.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||b(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:d,onKeydown:n,onKeyup:c};return k({ourProps:H,theirProps:h,slot:f,attrs:a,slots:u,name:"DisclosureButton"})}}}),fe=B({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:a,slots:u,expose:r}){let t=C("DisclosurePanel");K(()=>{e.id!==null&&(t.panelId.value=e.id)}),M(()=>{t.panelId.value=null}),r({el:t.panel,$el:t.panel}),z(F,t.panelId);let p=re(),l=y(()=>p!==null?(p.value&I.Open)===I.Open:t.disclosureState.value===0);return()=>{var s;let i={open:t.disclosureState.value===0,close:t.close},{id:d,...n}=e,c={id:(s=t.panelId.value)!=null?s:d,ref:t.panel};return k({ourProps:c,theirProps:n,slot:i,attrs:a,slots:u,features:U.RenderStrategy|U.Static,visible:l.value,name:"DisclosurePanel"})}}});const me=B({props:{open:{type:Boolean,default:!1}},emits:["open","close"],setup(e,{emit:a}){return G(()=>e.open,u=>{a(u?"open":"close")}),()=>{}}}),ve=B({components:{HDisclosure:pe,HDisclosureButton:de,HDisclosurePanel:fe,UIcon:N,UButton:j,StateEmitter:me},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>O.ui.accordion.default.openIcon},closeIcon:{type:String,default:()=>O.ui.accordion.default.closeIcon},multiple:{type:Boolean,default:!1},ui:{type:Object,default:()=>O.ui.accordion}},setup(e){const a=Q(),u=y(()=>J({},e.ui,a.ui.accordion)),r=y(()=>a.ui.button),t=v([]);function p(n){!e.items[n].closeOthers&&e.multiple||t.value.forEach((c,o)=>{o!==n&&c()})}function l(n,c){n.style.height="0",n.offsetHeight,n.style.height=n.scrollHeight+"px",n.addEventListener("transitionend",c,{once:!0})}function s(n){n.style.height=n.scrollHeight+"px",n.offsetHeight}function i(n){n.style.height="auto"}function d(n,c){n.style.height="0",n.addEventListener("transitionend",c,{once:!0})}return{ui:u,uiButton:r,buttonRefs:t,closeOthers:p,omit:ue,onEnter:l,onBeforeLeave:s,onAfterEnter:i,onLeave:d}}});function ge(e,a,u,r,t,p){const l=N,s=j,i=E("HDisclosureButton"),d=E("StateEmitter"),n=E("HDisclosurePanel"),c=E("HDisclosure");return P(),w("div",{class:$(e.ui.wrapper)},[(P(!0),w(W,null,X(e.items,(o,f)=>(P(),Y(c,{key:f,"default-open":e.defaultOpen||o.defaultOpen},{default:D(({open:m,close:h})=>[g(i,{ref_for:!0,ref:()=>e.buttonRefs[f]=h,as:"template",disabled:o.disabled},{default:D(()=>[L(e.$slots,"default",{item:o,index:f,open:m,close:h},()=>[g(s,A({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.$attrs,...e.omit(o,["slot","disabled","content","defaultOpen"])}),{trailing:D(()=>[g(l,{name:m&&e.closeIcon?e.closeIcon:e.openIcon,class:$([m&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[o.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled"]),g(d,{open:m,onOpen:H=>e.closeOthers(f)},null,8,["open","onOpen"]),g(oe,A({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:D(()=>[Z(x("div",null,[g(n,{class:$([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:D(()=>[L(e.$slots,o.slot||"item",{item:o,index:f,open:m,close:h},()=>[ee(te(o.content),1)])]),_:2},1032,["class"])],512),[[ne,m]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["default-open"]))),128))],2)}const Ae=se(ve,[["render",ge]]);export{Ae as default};
