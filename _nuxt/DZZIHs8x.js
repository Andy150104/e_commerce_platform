import{_ as u}from"./h9XeG6ng.js";import{_ as f}from"./Bzy3NznM.js";import{u as k,_ as C}from"./BbryYVfn.js";import{_ as p}from"./BnmkgdtR.js";import V from"./3OUur2A8.js";import{p as I,q as L,v as w,x as A,C as B,y as b,z as P,e as E,l as T,S as _,s as U,f as R,g as q,o as g,h as M,w as z,i as a,c as y,a as e,b as l,n as x,A as h,d as O}from"./DFVm4NPh.js";import{X as n}from"./BDEeDIwr.js";import"./V8n92ecy.js";import"./DPxmNygB.js";import"./DlAUqK2U.js";import"./DsIA2G5F.js";import"./BKCMpDB6.js";import"./PLEq0hNF.js";import"./0qAV6zC5.js";import"./B33bflHF.js";import"./DxTMCm_i.js";import"./DgmwlLno.js";import"./Bj-PnIja.js";import"./BpXJ3t4k.js";import"./B05HPIib.js";import"./D5y8FroI.js";import"./QbBb9rFs.js";const v={userName:"",password:"",confirmPassword:"",email:"",phoneNumber:"",birthday:"",firstName:"",lastName:"",gender:"1",province:"",district:"",ward:""},$=I(v),j={values:v,errors:$,...P},D=L("Register",{state:()=>({fields:j,createFlgAccountInfo:!1,createFlgPlan:!1,createFlgPersonalInfo:!1,createFlgComplete:!1}),getters:{fieldValues:t=>t.fields.values,fieldValid:t=>t.fields.meta.valid,fieldErrors:t=>t.fields.errors},actions:{ResetStore(){this.fields.resetForm()},SetFields(t){this.fields=t},async Validate(){return await this.fields.validate(),this.fieldValid},async RegisterUser(){if((await this.fields.validate()).valid===!1)return!1;const m=w(),o=A(),s=B(this.fields.values,v),c=b();c.LoadingChange(!0);const r=await m.api.v1.UserInsert.$post({body:{isOnlyValidation:!1,username:s.userName,email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName}});return c.LoadingChange(!1),r.success?(o.SetFormMessage(r,!0),!0):(o.SetFormMessage(r,!0),!1)},async onVerify(t){const m=w(),o=b();o.LoadingChange(!0);const s=await m.api.v1.UserVerifyKey.$post({body:{isOnlyValidation:!0,key:t}});return o.LoadingChange(!1),!!s.success}}}),J={key:0},X={class:"mb-10 animate-jump-in animate-once animate-ease-linear"},G={class:"space-y-4"},K={class:"space-y-4"},Y={class:"flex justify-between mt-8"},H={key:1},be=E({__name:"index",setup(t){const m=T([{nameItem:"Account Info",status:_.currentStep},{nameItem:"Confirm",status:_.finishStep}]),o=k(),s=D(),{fieldValues:c,fieldErrors:r}=U(s),N=R({initialValues:c.value});s.SetFields(N);const i={userName:n({id:"userName",name:"Username",rules:"required",visible:!0,option:""}),password:n({id:"password",name:"Password",rules:"required",visible:!0,option:""}),confirmPassword:n({id:"confirmPassword",name:"Confirm Password",rules:"required|confirm_password:password",visible:!0,option:""}),email:n({id:"email",name:"Email",rules:"required",visible:!0,option:""}),firstName:n({id:"firstName",name:"First Name",rules:"required",visible:!0,option:""}),lastName:n({id:"lastName",name:"Last Name",rules:"required",visible:!0,option:""})},S=async()=>{if(s.createFlgAccountInfo){if(!await s.RegisterUser())return;o.moveToNextStep(),s.createFlgAccountInfo=!1}},F=()=>{s.createFlgAccountInfo&&(window.location.href=document.referrer)};return q(()=>{s.createFlgAccountInfo=!0,o.SetValues(m),localStorage.setItem("urlBack",document.referrer)}),(Q,d)=>(g(),M(V,null,{body:z(()=>[a(s).createFlgAccountInfo?(g(),y("div",J,[d[0]||(d[0]=e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white text-center mb-8 pt-4"},"Register",-1)),e("div",X,[l(C,{items:a(o).steppList},null,8,["items"])]),e("div",{class:x("animate-fade-right grid grid-cols-1 gap-8 "+a(h).COLS_2)},[e("div",G,[e("div",null,[l(f,{"xml-column":i.userName},null,8,["xml-column"]),l(u,{"xml-column":i.userName,maxlength:50,disabled:!1,"err-msg":a(r).userName,placeholder:"abcxyz"},null,8,["xml-column","err-msg"])]),e("div",null,[l(f,{"xml-column":i.password},null,8,["xml-column"]),l(u,{"xml-column":i.password,maxlength:50,disabled:!1,type:"password","err-msg":a(r).password,placeholder:"***********"},null,8,["xml-column","err-msg"])]),e("div",null,[l(f,{"xml-column":i.confirmPassword},null,8,["xml-column"]),l(u,{"xml-column":i.confirmPassword,maxlength:50,disabled:!1,type:"password","err-msg":a(r).confirmPassword,placeholder:"***********"},null,8,["xml-column","err-msg"])])]),e("div",K,[e("div",null,[l(p,{"xml-column":i.firstName,maxlength:50,disabled:!1,"err-msg":a(r).firstName,placeholder:"John"},null,8,["xml-column","err-msg"])]),e("div",null,[l(p,{"xml-column":i.email,maxlength:50,disabled:!1,"err-msg":a(r).email,placeholder:"abc@gmail.com"},null,8,["xml-column","err-msg"])]),e("div",null,[l(p,{"xml-column":i.lastName,maxlength:50,disabled:!1,"err-msg":a(r).lastName,placeholder:"John"},null,8,["xml-column","err-msg"])])])],2),e("div",Y,[e("button",{class:x(a(h).BUTTON_DEFAULT_GRAY_1),onClick:F},"Back",2),e("button",{class:x(a(h).BUTTON_DEFAULT_BLUE_2),onClick:S},"Next",2)])])):(g(),y("div",H,d[1]||(d[1]=[e("section",{class:"bg-white dark:bg-gray-900"},[e("div",{class:"py-8 px-4 mx-auto max-w-screen-xl lg:py-16 grid lg:grid-cols-2 gap-8 lg:gap-16"},[e("div",{class:"flex flex-col justify-center"},[e("h1",{class:"mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-6xl dark:text-white"}," Email has been sended!!!! "),e("p",{class:"mb-8 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400"},"Please check your email"),e("div",{class:"flex flex-col space-y-4 sm:flex-row sm:space-y-0"},[e("a",{href:"https://mail.google.com/",class:"inline-flex justify-center items-center py-3 px-5 text-base font-medium text-center text-white rounded-lg bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-900"},[O(" Open Email Now "),e("svg",{class:"w-3.5 h-3.5 ms-2 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})])])])])])],-1)])))]),_:1}))}});export{be as default};
